const postId = "<%= @post.id %>";
const persisted = "<%= @like.persisted? %>";
const totalLikes = "<%= @total_likes %>";
const parent = $(`#thumbs-up-${postId}`).parent('a');
if (persisted === 'true') {
  $(`#thumbs-up-${postId}`).attr('class', 'fa fa-thumbs-up');
  parent.attr('href', `/posts/${postId}/unlike`);
} else {
  $(`#thumbs-up-${postId}`).attr('class', 'fa fa-thumbs-o-up');
  parent.attr('href', `/posts/${postId}/like`);
}
if (totalLikes == '0') {
  $(`#thumbs-up-text-${postId}`).text('Like |');
} else {
  let text = 'Likes';
  if (totalLikes == '1') {
    text = 'Like';
  }
  $(`#thumbs-up-text-${postId}`).text(`${totalLikes} ${text} |`);
}
